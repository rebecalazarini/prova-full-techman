generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Equipamento{
  id          Int      @id @default(autoincrement())
  nome        String
  descricao   String
  imagem    String
  status      String
  data_inclusao DateTime @default(now())
  comentarios Comentario[]
}

model Usuario{
  id          Int      @id @default(autoincrement())
  nome        String
  email       String   @unique
  senha       String
  perfil     Int
  usuarioPerfil Perfil @relation(fields: [perfil], references: [id])
  comentarios Comentario[]
}

model Comentario {
  id          Int      @id @default(autoincrement())
  comentario  String
  data_inclusao DateTime @default(now())
  usuario_id Int
  equipamento_id Int
  perfil Int
  comentarioPerfil         Perfil      @relation(fields: [perfil], references: [id])
  usuario    Usuario   @relation(fields: [usuario_id], references: [id])
  equipamento Equipamento @relation(fields: [equipamento_id], references: [id])
}


model Perfil {
  id          Int          @id @default(autoincrement())
  perfil      String       @db.VarChar(50)
  usuarios    Usuario[]
  comentarios Comentario[]
}